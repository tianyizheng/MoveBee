<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:body>
        <ui:composition template="./templatemain.xhtml">
        <ui:define name="body">
            <div class="container">
                <div class="row">
                <h:form>
                    <ui:repeat value="#{facesContext.messageList}" var="facesMessage">
                        <div class="alert alert-dismissible" role="alert">
                            <span class="glyphicon" aria-hidden="true"></span>
                            <span class="sr-only">Error:</span>
                            <span id="message">#{facesMessage.detail}</span>
                            <span id="severity" style="display: none">#{facesMessage.severity}</span>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        </div>
                    </ui:repeat>
                    <h:messages style="display: none"/>
                </h:form>
                </div>
                <div class="row">
           
                  <h3>New in Theaters</h3>
                 
                  <div id="theatersCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
            <ol class="carousel-indicators">
              <li data-target="#theatersCarousel" data-slide-to="0" class="active"></li>
              <li data-target="#theatersCarousel" data-slide-to="1"></li>
              <li data-target="#theatersCarousel" data-slide-to="2"></li>
              <li data-target="#theatersCarousel" data-slide-to="3"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="#{inTheaters.movie.get(0).poster.thumbnail}" class="img-rounded hidden-xs" alt="" style="margin: 0 auto;"></img>
                    <div class="container">
                    <div class="row">
                        <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Title: </h4>
                        </div>
                        <div class="col-lg-6">
                            <h:form>
                                <h:commandLink action="#{movieController.goTo(inTheaters.releases.get(0))}" value="#{inTheaters.movie.get(0).title}"/><br/>
                            </h:form>
                        </div>
                             
                     </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Runtime: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{inTheaters.movie.get(0).runtime} minutes
                        </div>
                    </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">MPAA Rating: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{inTheaters.movie.get(0).mpaaRating}
                        </div>
                    </div>
                      
                    </div> 
                </div>
                 <c:forEach var="i" begin="1" end="#{inTheaters.movie.length()-1}">
                     <div class="item">
                         <img src="#{inTheaters.movie.get(i).poster.thumbnail}" class="img-rounded hidden-xs" alt="" style="margin: 0 auto;"></img>
                    
                                            <div class="container">
                    <div class="row">
                        <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Title: </h4>
                        </div>
                        <div class="col-lg-6">
                             <h:form>
                                <h:commandLink action="#{movieController.goTo(inTheaters.releases.get(i))}" value="#{inTheaters.movie.get(i).title}"/><br/>
                            </h:form>
                        </div>
                             
                     </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Runtime: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{inTheaters.movie.get(i).runtime} minutes
                        </div>
                    </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">MPAA Rating: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{inTheaters.movie.get(i).mpaaRating}
                        </div>
                    </div>
                    </div> 
                            
                         
                     </div>
                </c:forEach>
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#theatersCarousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#theatersCarousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
        </div>
        </div>
                  <div class="row">
           
                  <h3>New in DVD</h3>
                 
                  <div id="dvdCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
            <ol class="carousel-indicators">
              <li data-target="#dvdCarousel" data-slide-to="0" class="active"></li>
              <li data-target="#dvdCarousel" data-slide-to="1"></li>
              <li data-target="#dvdCarousel" data-slide-to="2"></li>
              <li data-target="#dvdCarousel" data-slide-to="3"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="#{newDVDReleases.movie.get(0).poster.thumbnail}" class="img-rounded hidden-xs" alt="" style="margin: 0 auto;"></img>
                    
                    <div class="container">
                    <div class="row">
                        <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Title: </h4>
                        </div>
                        <div class="col-lg-6">
                            <h:form>
                                <h:commandLink action="#{movieController.goTo(newDVDReleases.releases.get(0))}" value="#{newDVDReleases.releases.get(0).title}"/><br/>
                            </h:form>
                        </div>
                             
                     </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Runtime: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{newDVDReleases.releases.get(0).runtime} minutes
                        </div>
                    </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">MPAA Rating: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{newDVDReleases.releases.get(0).mpaaRating}
                        </div>
                    </div>
                    </div> 
                </div>
                 <c:forEach var="i" begin="1" end="#{newDVDReleases.releases.size()-1}">
                     <div class="item">
                         <img src="#{newDVDReleases.movie.get(i).poster.thumbnail}" class="img-rounded hidden-xs" style="margin: 0 auto;"></img>
                                            <div class="container">
                    <div class="row">
                        <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Title: </h4>
                        </div>
                        <div class="col-lg-6">
                            <h:form>
                                <h:commandLink action="#{movieController.goTo(newDVDReleases.releases.get(i))}" value="#{newDVDReleases.releases.get(i).title}"/><br/>
                            </h:form>
                        </div>
                             
                     </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">Runtime: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{newDVDReleases.releases.get(i).runtime} minutes
                        </div>
                    </div>
                    <div class="row">
                         <div class="col-lg-offset-4 col-lg-2 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-6 col-xs-offset-2 col-xs-6">
                             <h4 style="display:inline">MPAA Rating: </h4>
                        </div>
                        <div class="col-lg-6">
                             #{newDVDReleases.releases.get(i).mpaaRating}
                        </div>
                    </div>
                    </div> 
                            
                         
                     </div>
                </c:forEach>
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#dvdCarousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#dvdCarousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
        </div>
        </div>
                <div class="row">
                    <h3>Recommended for you: </h3>
                    <h:outputText id="recommendation" value="#{recommendation.generate(registration.current.profile)}"></h:outputText>
                </div>
            </div>
            
        </ui:define>
    </ui:composition>

    </h:body>
    <script>
        if ($("#recommendation").innerText()) == "") {
            console.log("found");
            $("#recommendation").innerText() = "Toy Story";
        }
    </script>
</html>


